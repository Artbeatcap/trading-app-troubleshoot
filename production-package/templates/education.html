{% extends "base.html" %}

{% block title %}Education - Options Trading Learning Center{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-body text-center">
                    <h1 class="display-4 mb-3">
                        <i class="fas fa-graduation-cap text-primary me-3"></i>
                        Options Trading Education Center
                    </h1>
                    <p class="lead text-muted">
                        Master the fundamentals and advanced strategies of options trading through comprehensive learning resources
                    </p>
                    <div class="row mt-4">
                        <div class="col-md-3">
                            <div class="text-center">
                                <i class="fas fa-book fa-2x text-primary mb-2"></i>
                                <h5>Basics</h5>
                                <small class="text-muted">Core Concepts</small>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <i class="fas fa-chess fa-2x text-success mb-2"></i>
                                <h5>Strategies</h5>
                                <small class="text-muted">Trading Methods</small>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <i class="fas fa-shield-alt fa-2x text-warning mb-2"></i>
                                <h5>Risk Management</h5>
                                <small class="text-muted">Protect Capital</small>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <i class="fas fa-chart-line fa-2x text-info mb-2"></i>
                                <h5>Advanced</h5>
                                <small class="text-muted">Expert Techniques</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="row mb-4">
        <div class="col-12">
            <ul class="nav nav-tabs" id="educationTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="basics-tab" data-bs-toggle="tab" data-bs-target="#basics" type="button" role="tab">
                        <i class="fas fa-book me-2"></i>Basics
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="strategies-tab" data-bs-toggle="tab" data-bs-target="#strategies" type="button" role="tab">
                        <i class="fas fa-chess me-2"></i>Strategies
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="risk-tab" data-bs-toggle="tab" data-bs-target="#risk" type="button" role="tab">
                        <i class="fas fa-shield-alt me-2"></i>Risk Management
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="advanced-tab" data-bs-toggle="tab" data-bs-target="#advanced" type="button" role="tab">
                        <i class="fas fa-chart-line me-2"></i>Advanced
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <!-- Tab Content -->
    <div class="tab-content" id="educationTabContent">
        <!-- Basics Tab -->
        <div class="tab-pane fade show active" id="basics" role="tabpanel">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-info-circle text-primary me-2"></i>What Are Options?</h4>
                        </div>
                        <div class="card-body">
                            <p>Options are financial contracts that give the buyer the right, but not the obligation, to buy or sell an underlying asset at a specified price (strike price) on or before a specified date (expiration date).</p>
                            
                            <h5 class="mt-4">Key Components:</h5>
                            <ul>
                                <li><strong>Call Options:</strong> Give you the right to buy the underlying asset</li>
                                <li><strong>Put Options:</strong> Give you the right to sell the underlying asset</li>
                                <li><strong>Strike Price:</strong> The price at which you can buy/sell the asset</li>
                                <li><strong>Expiration Date:</strong> The last day you can exercise the option</li>
                                <li><strong>Premium:</strong> The price you pay for the option contract</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-calculator text-warning me-2"></i>Understanding the Greeks</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-arrow-up text-success me-2"></i>Delta</h6>
                                    <p class="small">Measures how much the option price changes for every $1 move in the underlying stock.</p>
                                    <ul class="small">
                                        <li>Call options: 0 to +1</li>
                                        <li>Put options: -1 to 0</li>
                                        <li>ATM options: ~0.5 for calls, ~-0.5 for puts</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-arrow-down text-danger me-2"></i>Gamma</h6>
                                    <p class="small">Measures how much Delta changes for every $1 move in the underlying stock.</p>
                                    <ul class="small">
                                        <li>Highest for ATM options</li>
                                        <li>Decreases as options move ITM/OTM</li>
                                        <li>Always positive for both calls and puts</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-clock text-warning me-2"></i>Theta</h6>
                                    <p class="small">Measures how much the option price decreases each day due to time decay.</p>
                                    <ul class="small">
                                        <li>Always negative (time decay)</li>
                                        <li>Accelerates as expiration approaches</li>
                                        <li>ATM options have highest theta</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-wind text-info me-2"></i>Vega</h6>
                                    <p class="small">Measures how much the option price changes for every 1% change in implied volatility.</p>
                                    <ul class="small">
                                        <li>Always positive for both calls and puts</li>
                                        <li>Highest for ATM options</li>
                                        <li>Decreases as expiration approaches</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h5><i class="fas fa-lightbulb text-warning me-2"></i>Quick Tips</h5>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-info">
                                <strong>In-the-Money (ITM):</strong> Option has intrinsic value
                            </div>
                            <div class="alert alert-warning">
                                <strong>At-the-Money (ATM):</strong> Strike price equals current stock price
                            </div>
                            <div class="alert alert-danger">
                                <strong>Out-of-the-Money (OTM):</strong> Option has no intrinsic value
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>

        <!-- Strategies Tab -->
        <div class="tab-pane fade" id="strategies" role="tabpanel">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-chess text-success me-2"></i>Basic Options Strategies</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h5><i class="fas fa-arrow-up text-success me-2"></i>Long Call</h5>
                                    <p class="small">Buy a call option when you expect the stock to rise significantly.</p>
                                    <ul class="small">
                                        <li><strong>Risk:</strong> Limited to premium paid</li>
                                        <li><strong>Reward:</strong> Unlimited upside</li>
                                        <li><strong>Best for:</strong> Bullish outlook</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5><i class="fas fa-arrow-down text-danger me-2"></i>Long Put</h5>
                                    <p class="small">Buy a put option when you expect the stock to fall significantly.</p>
                                    <ul class="small">
                                        <li><strong>Risk:</strong> Limited to premium paid</li>
                                        <li><strong>Reward:</strong> Limited to stock price</li>
                                        <li><strong>Best for:</strong> Bearish outlook</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-chart-line text-info me-2"></i>Income Strategies</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h5><i class="fas fa-arrow-down text-warning me-2"></i>Covered Call</h5>
                                    <p class="small">Sell call options against stock you own to generate income.</p>
                                    <ul class="small">
                                        <li><strong>Risk:</strong> Limited upside potential</li>
                                        <li><strong>Reward:</strong> Premium income</li>
                                        <li><strong>Best for:</strong> Neutral to slightly bullish</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5><i class="fas fa-arrow-up text-warning me-2"></i>Cash Secured Put</h5>
                                    <p class="small">Sell put options with cash to back the obligation.</p>
                                    <ul class="small">
                                        <li><strong>Risk:</strong> Stock price decline</li>
                                        <li><strong>Reward:</strong> Premium income</li>
                                        <li><strong>Best for:</strong> Neutral to slightly bullish</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>

        <!-- Risk Management Tab -->
        <div class="tab-pane fade" id="risk" role="tabpanel">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-shield-alt text-warning me-2"></i>Risk Management Principles</h4>
                        </div>
                        <div class="card-body">
                            <h5>1. Position Sizing</h5>
                            <p>Never risk more than 1-2% of your total capital on any single trade.</p>
                            
                            <h5>2. Stop Losses</h5>
                            <p>Always have a predetermined exit point to limit potential losses.</p>
                            
                            <h5>3. Diversification</h5>
                            <p>Spread your risk across different strategies and underlying assets.</p>
                            
                            <h5>4. Time Decay Awareness</h5>
                            <p>Understand that options lose value over time, especially as expiration approaches.</p>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-exclamation-triangle text-danger me-2"></i>Common Mistakes to Avoid</h4>
                        </div>
                        <div class="card-body">
                            <ul>
                                <li><strong>Over-leveraging:</strong> Using too much margin or buying too many contracts</li>
                                <li><strong>Ignoring volatility:</strong> Not considering implied volatility in pricing</li>
                                <li><strong>Holding to expiration:</strong> Not managing positions before expiration</li>
                                <li><strong>Emotional trading:</strong> Making decisions based on fear or greed</li>
                                <li><strong>Lack of plan:</strong> Not having a clear entry and exit strategy</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-external-link-alt text-primary me-2"></i>Risk Management Resources</h5>
                        </div>
                        <div class="card-body">
                            <div class="list-group list-group-flush">
                                <a href="{{ url_for('education_risk_management') }}" class="list-group-item list-group-item-action">
                                    <i class="fas fa-shield-alt text-warning me-2"></i>Risk Management Guide
                                </a>
                                <a href="{{ url_for('education_position_sizing') }}" class="list-group-item list-group-item-action">
                                    <i class="fas fa-balance-scale text-info me-2"></i>Position Sizing for Options
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Advanced Tab -->
        <div class="tab-pane fade" id="advanced" role="tabpanel">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h4><i class="fas fa-chart-line text-info me-2"></i>Advanced Options Concepts</h4>
                        </div>
                        <div class="card-body">
                            <h4 class="text-xl font-semibold mt-6 mb-2">Implied Volatility (IV)</h4>
                            <p class="mb-4">Implied Volatility is the market's expectation of future price volatility, derived from current option prices. Unlike historical volatility which looks backward, IV represents the market's forward-looking estimate of how much the underlying asset will move.</p>
                            
                            <p class="mb-4">IV is calculated by working backwards from the Black-Scholes option pricing model. When you input the current option price, strike price, time to expiration, risk-free rate, and underlying price, the implied volatility is the volatility parameter that makes the model's theoretical price match the actual market price.</p>
                            
                            <div class="bg-gray-100 rounded p-4 text-sm font-mono mb-4">
                                <strong>Formula:</strong> σ<sub>imp</sub> is solved from Black-Scholes equation:<br>
                                C = S<sub>0</sub>N(d<sub>1</sub>) - Ke<sup>-rT</sup>N(d<sub>2</sub>)<br>
                                where d<sub>1</sub> = [ln(S<sub>0</sub>/K) + (r + σ²/2)T] / (σ√T)<br>
                                and d<sub>2</sub> = d<sub>1</sub> - σ√T
                            </div>
                            
                            <p class="mb-4"><strong>Practical Applications:</strong> IV rank and percentile help traders understand whether current volatility is high or low relative to historical levels. During earnings announcements, IV typically increases dramatically (earnings crush), making options more expensive. Traders can choose strategies based on their volatility outlook - long vega strategies profit from IV increases, while short vega strategies benefit from IV decreases.</p>

                            <h4 class="text-xl font-semibold mt-6 mb-2">Volatility Skew / Smile</h4>
                            <p class="mb-4">Volatility skew describes the pattern where out-of-the-money (OTM) put options trade at higher implied volatility than OTM call options at the same distance from the current stock price. This creates an asymmetric "skew" in the volatility curve when plotted against strike prices.</p>
                            
                            <p class="mb-4">The skew exists because investors are willing to pay more for downside protection (puts) than upside speculation (calls). This reflects the market's greater fear of large downward moves than upward moves. The skew is typically steeper for shorter-term options and varies significantly across different asset classes.</p>
                            
                            <p class="mb-4"><strong>Trading Implications:</strong> The skew creates opportunities for risk-reversal trades, where traders sell OTM calls and buy OTM puts at the same distance from the money. These trades can be profitable when the skew normalizes. The skew also affects option pricing and strategy selection - deep OTM puts are often overpriced relative to their theoretical value.</p>

                            <h4 class="text-xl font-semibold mt-6 mb-2">Reading Options Chains</h4>
                            <p class="mb-4">Options chains display all available options for a particular underlying asset, organized by expiration date and strike price. Understanding how to read these chains is crucial for making informed trading decisions.</p>
                            
                            <p class="mb-4"><strong>Key Columns:</strong></p>
                            <ul class="mb-4">
                                <li><strong>Bid/Ask:</strong> The highest price buyers are willing to pay (bid) and lowest price sellers are willing to accept (ask)</li>
                                <li><strong>Open Interest:</strong> Number of outstanding contracts, indicating liquidity and market activity</li>
                                <li><strong>Volume:</strong> Number of contracts traded today, showing current market activity</li>
                                <li><strong>Delta:</strong> Sensitivity of option price to underlying price changes</li>
                                <li><strong>Implied Volatility:</strong> Market's expectation of future volatility</li>
                                <li><strong>Theoretical Value:</strong> Fair value based on pricing models</li>
                            </ul>
                            
                            <p class="mb-4"><strong>Liquidity Assessment:</strong> Look for options with high open interest and volume, tight bid-ask spreads, and regular trading activity. Liquid options are easier to enter and exit without significant slippage. Generally, at-the-money options and those near expiration have the highest liquidity.</p>

                            <h4 class="text-xl font-semibold mt-6 mb-2">Expiration & Assignment Mechanics</h4>
                            <p class="mb-4">Options expiration occurs at 4:00 PM Eastern Time on the third Friday of the expiration month. For American-style options, the holder can exercise at any time before expiration, while European-style options can only be exercised at expiration.</p>
                            
                            <p class="mb-4"><strong>Cash vs. Physical Settlement:</strong> Most equity options are physically settled, meaning the underlying shares are delivered upon exercise. Index options and some ETFs are cash-settled, with cash equal to the intrinsic value being exchanged.</p>
                            
                            <p class="mb-4"><strong>Early Assignment Risk:</strong> Short options can be assigned early, particularly when they're deep in-the-money or when the underlying pays a dividend. For calls, early assignment often occurs just before ex-dividend dates when the dividend exceeds the time value remaining in the option.</p>
                            
                            <p class="mb-4"><strong>Managing Expiration Risk:</strong> As expiration approaches, gamma risk increases dramatically, making positions highly sensitive to underlying price movements. Traders should consider closing or rolling positions before expiration to avoid last-minute assignment surprises and to capture remaining time value.</p>

                            <h4 class="text-xl font-semibold mt-6 mb-2">Greeks Interplay at Expiry</h4>
                            <p class="mb-4">In the final week before expiration, the Greeks undergo dramatic changes that significantly impact option pricing and risk management.</p>
                            
                            <p class="mb-4"><strong>Gamma Explosion:</strong> Gamma, which measures the rate of change in delta, increases exponentially as expiration approaches. This means that small movements in the underlying asset can cause large changes in option prices and position deltas. At-the-money options experience the most dramatic gamma increases.</p>
                            
                            <p class="mb-4"><strong>Theta Acceleration:</strong> Time decay accelerates rapidly in the final days, particularly for at-the-money options. This creates a "gamma-theta trade-off" where the potential for large gains (gamma) comes with the cost of rapid time decay (theta).</p>
                            
                            <p class="mb-4"><strong>Practical Adjustments:</strong> Traders often need to adjust positions more frequently as expiration approaches. This might involve rolling positions to later expirations, closing positions to capture remaining value, or hedging with the underlying asset to manage delta risk. The key is balancing the desire to capture gamma profits against the cost of theta decay.</p>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>

<script>
// Initialize Bootstrap tabs
document.addEventListener('DOMContentLoaded', function() {
    var triggerTabList = [].slice.call(document.querySelectorAll('#educationTabs button'))
    triggerTabList.forEach(function (triggerEl) {
        var tabTrigger = new bootstrap.Tab(triggerEl)
    })
});
</script>
{% endblock %}
